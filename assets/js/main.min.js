"use strict";var initContainer=document.getElementById("initSlide"),yesForm=document.getElementById("yesForm"),noForm=document.getElementById("noform"),toYesForm=document.getElementById("yesFormTrans"),toNoForm=document.getElementById("noFormTrans"),creditSlide=document.getElementById("creditSlide"),sendSlide=document.getElementById("sendSlide"),toInitSlide=document.getElementById("toInitSlide"),toSendSlide=document.getElementById("toSendSlide"),toCreditSlide=document.getElementById("toCreditSlide");function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}toYesForm.addEventListener("click",function(){yesForm.classList.toggle("js-hidden--Animated"),initContainer.classList.toggle("js-hidden--Animated")}),toNoForm.addEventListener("click",function(){noForm.classList.toggle("js-hidden--Animated"),initContainer.classList.toggle("js-hidden--Animated")}),toInitSlide.addEventListener("click",function(){yesForm.classList.toggle("js-hidden--Animated"),initContainer.classList.toggle("js-hidden--Animated")}),toSendSlide.addEventListener("click",function(){sendSlide.classList.toggle("js-hidden--Animated"),creditSlide.classList.toggle("js-hidden--Animated")}),toCreditSlide.addEventListener("click",function(){sendSlide.classList.toggle("js-hidden--Animated"),creditSlide.classList.toggle("js-hidden--Animated")}),$("#phone").inputmask(),$(document).ready(function(){$("#sliderCredit").slider({range:"min",animate:!0,value:5e5,min:1e5,max:8e6,step:1e4,slide:function(e,t){t=numberWithCommas(t=t.value);$("#sliderCreditInput").val("Сумма кредита: "+t+" ₽")}}),$("#sliderInvest").slider({range:"min",animate:!0,value:0,min:0,max:64e5,step:1e4,slide:function(e,t){t=numberWithCommas(t=t.value);$("#sliderInvestInput").val("Первоначальный взнос: "+t+" ₽")}})});var creditInput=document.getElementById("sliderCreditInput"),valueCreditInput=creditInput.value;creditInput.addEventListener("focusin",function(){creditInput.value=""}),creditInput.addEventListener("focusout",function(){var e;creditInput.value?($("#sliderCredit").slider("option","value",creditInput.value),e=numberWithCommas(creditInput.value),creditInput.value="Сумма кредита: ".concat(e," ₽")):creditInput.value=valueCreditInput});var investInput=document.getElementById("sliderInvestInput"),valueInvestInput=investInput.value;investInput.addEventListener("focusin",function(){investInput.value=""}),investInput.addEventListener("focusout",function(){var e;investInput.value?($("#sliderInvest").slider("option","value",investInput.value),e=numberWithCommas(investInput.value),investInput.value="Первоначальный взнос: ".concat(e," ₽")):investInput.value=valueInvestInput});var pickerToggler=document.querySelector(".picker-display"),pickerOptions=document.querySelector(".picker-display__options");pickerToggler.addEventListener("click",function(){pickerOptions.classList.toggle("js-hidden--Animated")}),document.addEventListener("mouseup",function(e){pickerToggler.contains(e.target)||pickerOptions.classList.add("js-hidden--Animated")});var options=document.querySelectorAll(".option");function uncheckOptions(){options.forEach(function(e){e.classList.contains("checked")&&e.classList.remove("checked")})}function autoCheckOptions(t){uncheckOptions(),options.forEach(function(e){e.textContent.includes(t)&&e.classList.add("checked")})}options.forEach(function(e){e.addEventListener("click",function(){uncheckOptions(),e.classList.add("checked"),document.getElementById("pickerTime").textContent=e.textContent,document.getElementById("timePicker").value="Срок кредитования: ".concat(e.textContent)})});var timeInput=document.getElementById("timePicker"),valueTimeInput=timeInput.value;timeInput.addEventListener("focusin",function(){timeInput.value=""}),timeInput.addEventListener("focusout",function(){if(timeInput.value){$("#sliderInvest").slider("option","value",timeInput.value);var e=numberWithCommas(timeInput.value);switch(e){case"1":timeInput.value="Срок кредитования: ".concat(e," год"),document.getElementById("pickerTime").textContent="".concat(e," год"),autoCheckOptions(e);break;case"2":case"3":timeInput.value="Срок кредитования: ".concat(e," года"),document.getElementById("pickerTime").textContent="".concat(e," года"),autoCheckOptions(e);break;case"4":timeInput.value="Срок кредитования: ".concat(e," года"),document.getElementById("pickerTime").textContent=" ".concat(e," года"),autoCheckOptions(e);break;case"5":case"6":case"7":case"8":timeInput.value="Срок кредитования: ".concat(e," лет"),document.getElementById("pickerTime").textContent="".concat(e," лет"),autoCheckOptions(e)}}else timeInput.value=valueTimeInput});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMuanMiXSwibmFtZXMiOlsiaW5pdENvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ5ZXNGb3JtIiwibm9Gb3JtIiwidG9ZZXNGb3JtIiwidG9Ob0Zvcm0iLCJjcmVkaXRTbGlkZSIsInNlbmRTbGlkZSIsInRvSW5pdFNsaWRlIiwidG9TZW5kU2xpZGUiLCJ0b0NyZWRpdFNsaWRlIiwibnVtYmVyV2l0aENvbW1hcyIsIngiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiJCIsImlucHV0bWFzayIsInJlYWR5Iiwic2xpZGVyIiwicmFuZ2UiLCJhbmltYXRlIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJzdGVwIiwic2xpZGUiLCJldmVudCIsInVpIiwiZGVidFZhbHVlIiwidmFsIiwiY3JlZGl0SW5wdXQiLCJ2YWx1ZUNyZWRpdElucHV0IiwidXBkYXRlZENyZWRpdElucHV0IiwiY29uY2F0IiwiaW52ZXN0SW5wdXQiLCJ2YWx1ZUludmVzdElucHV0IiwidXBkYXRlZEludmVzdElucHV0IiwicGlja2VyVG9nZ2xlciIsInF1ZXJ5U2VsZWN0b3IiLCJwaWNrZXJPcHRpb25zIiwiZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwiYWRkIiwib3B0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1bmNoZWNrT3B0aW9ucyIsImZvckVhY2giLCJvcHRpb24iLCJyZW1vdmUiLCJhdXRvQ2hlY2tPcHRpb25zIiwiYXR0YWNoZWRTdHJpbmciLCJ0ZXh0Q29udGVudCIsImluY2x1ZGVzIiwidGltZUlucHV0IiwidmFsdWVUaW1lSW5wdXQiLCJ1cGRhdGVkVGltZUlucHV0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxjQUFBQyxTQUFBQyxlQUFBLGFBQ0FDLFFBQUFGLFNBQUFDLGVBQUEsV0FDQUUsT0FBQUgsU0FBQUMsZUFBQSxVQUNBRyxVQUFBSixTQUFBQyxlQUFBLGdCQUNB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QUFBLFFBQ0EzRCxTQUFBQyxlQUNBLGNBQ0FzRCxZQUZBLEdBQUFuQixPQUVBdUIsRUFGQSxRQUdBTixpQkFBQU0sU0EzREFGLFVBQUFqQyxNQUFBa0MiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZvcm0gTG9naWNcbmxldCBpbml0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbml0U2xpZGVcIik7XG5sZXQgeWVzRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieWVzRm9ybVwiKTtcbmxldCBub0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vZm9ybVwiKTtcbmxldCB0b1llc0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInllc0Zvcm1UcmFuc1wiKTtcbmxldCB0b05vRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9Gb3JtVHJhbnNcIik7XG5sZXQgY3JlZGl0U2xpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWRpdFNsaWRlXCIpO1xubGV0IHNlbmRTbGlkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VuZFNsaWRlXCIpO1xubGV0IHRvSW5pdFNsaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b0luaXRTbGlkZVwiKTtcbmxldCB0b1NlbmRTbGlkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9TZW5kU2xpZGVcIik7XG5sZXQgdG9DcmVkaXRTbGlkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9DcmVkaXRTbGlkZVwiKTtcbnRvWWVzRm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHllc0Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgaW5pdENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbn0pO1xuXG50b05vRm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG5vRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbiAgICBpbml0Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG5cbnRvSW5pdFNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgeWVzRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbiAgICBpbml0Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG5cbnRvU2VuZFNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc2VuZFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIGNyZWRpdFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG50b0NyZWRpdFNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc2VuZFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIGNyZWRpdFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG5cbiQoXCIjcGhvbmVcIikuaW5wdXRtYXNrKCk7XG5cbi8vIENyZWRpdCBMb2dpY1xuZnVuY3Rpb24gbnVtYmVyV2l0aENvbW1hcyh4KSB7XG4gICAgcmV0dXJuIHgudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIi5cIik7XG59XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKFwiI3NsaWRlckNyZWRpdFwiKS5zbGlkZXIoe1xuICAgICAgICByYW5nZTogXCJtaW5cIixcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDUwMDAwMCxcbiAgICAgICAgbWluOiAxMDAwMDAsXG4gICAgICAgIG1heDogODAwMDAwMCxcbiAgICAgICAgc3RlcDogMTAwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjc2xpZGVyQ3JlZGl0SW5wdXRcIikudmFsKFwi0KHRg9C80LzQsCDQutGA0LXQtNC40YLQsDogXCIgKyBkZWJ0VmFsdWUgKyBcIiDigr1cIik7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgJChcIiNzbGlkZXJJbnZlc3RcIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNjQwMDAwMCxcbiAgICAgICAgc3RlcDogMTAwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjc2xpZGVySW52ZXN0SW5wdXRcIikudmFsKFwi0J/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQuSDQstC30L3QvtGBOiBcIiArIGRlYnRWYWx1ZSArIFwiIOKCvVwiKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuXG5sZXQgY3JlZGl0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlckNyZWRpdElucHV0XCIpO1xubGV0IHZhbHVlQ3JlZGl0SW5wdXQgPSBjcmVkaXRJbnB1dC52YWx1ZTtcbmNyZWRpdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsICgpID0+IHtcbiAgICBjcmVkaXRJbnB1dC52YWx1ZSA9IFwiXCI7XG59KTtcblxuY3JlZGl0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsICgpID0+IHtcbiAgICBpZiAoIWNyZWRpdElucHV0LnZhbHVlKSB7XG4gICAgICAgIGNyZWRpdElucHV0LnZhbHVlID0gdmFsdWVDcmVkaXRJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI3NsaWRlckNyZWRpdFwiKS5zbGlkZXIoXCJvcHRpb25cIiwgXCJ2YWx1ZVwiLCBjcmVkaXRJbnB1dC52YWx1ZSk7XG4gICAgICAgIGxldCB1cGRhdGVkQ3JlZGl0SW5wdXQgPSBudW1iZXJXaXRoQ29tbWFzKGNyZWRpdElucHV0LnZhbHVlKTtcbiAgICAgICAgY3JlZGl0SW5wdXQudmFsdWUgPSBg0KHRg9C80LzQsCDQutGA0LXQtNC40YLQsDogJHt1cGRhdGVkQ3JlZGl0SW5wdXR9IOKCvWA7XG4gICAgfVxufSk7XG5sZXQgaW52ZXN0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlckludmVzdElucHV0XCIpO1xubGV0IHZhbHVlSW52ZXN0SW5wdXQgPSBpbnZlc3RJbnB1dC52YWx1ZTtcbmludmVzdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsICgpID0+IHtcbiAgICBpbnZlc3RJbnB1dC52YWx1ZSA9IFwiXCI7XG59KTtcblxuaW52ZXN0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsICgpID0+IHtcbiAgICBpZiAoIWludmVzdElucHV0LnZhbHVlKSB7XG4gICAgICAgIGludmVzdElucHV0LnZhbHVlID0gdmFsdWVJbnZlc3RJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI3NsaWRlckludmVzdFwiKS5zbGlkZXIoXCJvcHRpb25cIiwgXCJ2YWx1ZVwiLCBpbnZlc3RJbnB1dC52YWx1ZSk7XG4gICAgICAgIGxldCB1cGRhdGVkSW52ZXN0SW5wdXQgPSBudW1iZXJXaXRoQ29tbWFzKGludmVzdElucHV0LnZhbHVlKTtcbiAgICAgICAgaW52ZXN0SW5wdXQudmFsdWUgPSBg0J/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQuSDQstC30L3QvtGBOiAke3VwZGF0ZWRJbnZlc3RJbnB1dH0g4oK9YDtcbiAgICB9XG59KTtcblxubGV0IHBpY2tlclRvZ2dsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBpY2tlci1kaXNwbGF5XCIpO1xubGV0IHBpY2tlck9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBpY2tlci1kaXNwbGF5X19vcHRpb25zXCIpO1xucGlja2VyVG9nZ2xlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHBpY2tlck9wdGlvbnMuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG59KTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIXBpY2tlclRvZ2dsZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIHBpY2tlck9wdGlvbnMuY2xhc3NMaXN0LmFkZChcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgfVxufSk7XG5cbmxldCBvcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vcHRpb25cIik7XG5vcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB1bmNoZWNrT3B0aW9ucygpO1xuICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZChcImNoZWNrZWRcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGlja2VyVGltZVwiKS50ZXh0Q29udGVudCA9IG9wdGlvbi50ZXh0Q29udGVudDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICBcInRpbWVQaWNrZXJcIlxuICAgICAgICApLnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHtvcHRpb24udGV4dENvbnRlbnR9YDtcbiAgICB9KTtcbn0pO1xuXG5mdW5jdGlvbiB1bmNoZWNrT3B0aW9ucygpIHtcbiAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcImNoZWNrZWRcIikpIHtcbiAgICAgICAgICAgIG9wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhdXRvQ2hlY2tPcHRpb25zKGF0dGFjaGVkU3RyaW5nKSB7XG4gICAgdW5jaGVja09wdGlvbnMoKTtcbiAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLnRleHRDb250ZW50LmluY2x1ZGVzKGF0dGFjaGVkU3RyaW5nKSkge1xuICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmxldCB0aW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVQaWNrZXJcIik7XG5sZXQgdmFsdWVUaW1lSW5wdXQgPSB0aW1lSW5wdXQudmFsdWU7XG50aW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKCkgPT4ge1xuICAgIHRpbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG59KTtcblxudGltZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCAoKSA9PiB7XG4gICAgaWYgKCF0aW1lSW5wdXQudmFsdWUpIHtcbiAgICAgICAgdGltZUlucHV0LnZhbHVlID0gdmFsdWVUaW1lSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNzbGlkZXJJbnZlc3RcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwidmFsdWVcIiwgdGltZUlucHV0LnZhbHVlKTtcbiAgICAgICAgbGV0IHVwZGF0ZWRUaW1lSW5wdXQgPSBudW1iZXJXaXRoQ29tbWFzKHRpbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgIHN3aXRjaCAodXBkYXRlZFRpbWVJbnB1dCkge1xuICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXQudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtGA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtGA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0LnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQs9C+0LTQsGA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtNCwYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXQudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtNCwYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVcIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgICR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXQudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INC70LXRgmA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INC70LXRgmA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0LnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVcIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufSk7Il19
