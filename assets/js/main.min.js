"use strict";var initContainer=document.getElementById("initSlide"),yesForm=document.getElementById("yesForm"),noForm=document.getElementById("noform"),toYesForm=document.getElementById("yesFormTrans"),toNoForm=document.getElementById("noFormTrans"),creditSlide=document.getElementById("creditSlide"),sendSlide=document.getElementById("sendSlide"),toInitSlide=document.getElementById("toInitSlide"),toSendSlide=document.getElementById("toSendSlide"),toCreditSlide=document.getElementById("toCreditSlide"),toInitSlideFromNo=document.getElementById("toInitSlideFromNo"),toCreditSlideFromNo=document.getElementById("toCreditSlideFromNo"),typeSlide=document.getElementById("typeSlide"),uncertainCreditSlide=document.getElementById("uncertainCreditSlide"),toTypeSlide=document.getElementById("toTypeSlide"),toUncertainSendSlide=document.getElementById("toUncertainSendSlide"),uncertainSendSlide=document.getElementById("uncertainSendSlide"),toUncertainCreditSlide=document.getElementById("toUncertainCreditSlide");function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}toYesForm.addEventListener("click",function(){yesForm.classList.toggle("js-hidden--Animated"),initContainer.classList.toggle("js-hidden--Animated")}),$(toYesForm).on("click",function(){$(window).scrollTop($("#yesForm").offset().top)}),toNoForm.addEventListener("click",function(){noForm.classList.toggle("js-hidden--Animated"),initContainer.classList.toggle("js-hidden--Animated")}),$(toNoForm).on("click",function(){$(window).scrollTop($("#noform").offset().top)}),toInitSlide.addEventListener("click",function(){yesForm.classList.toggle("js-hidden--Animated"),initContainer.classList.toggle("js-hidden--Animated")}),$(toInitSlide).on("click",function(){$(window).scrollTop($("#initSlide").offset().top)}),toSendSlide.addEventListener("click",function(){sendSlide.classList.toggle("js-hidden--Animated"),creditSlide.classList.toggle("js-hidden--Animated")}),$(toSendSlide).on("click",function(){$(window).scrollTop($("#yesForm").offset().top)}),toCreditSlide.addEventListener("click",function(){sendSlide.classList.toggle("js-hidden--Animated"),creditSlide.classList.toggle("js-hidden--Animated")}),$(toCreditSlide).on("click",function(){$(window).scrollTop($("#yesForm").offset().top)}),toInitSlideFromNo.addEventListener("click",function(){initContainer.classList.toggle("js-hidden--Animated"),noForm.classList.toggle("js-hidden--Animated")}),$(toInitSlideFromNo).on("click",function(){$(window).scrollTop($("#initSlide").offset().top)}),toCreditSlideFromNo.addEventListener("click",function(){typeSlide.classList.toggle("js-hidden--Animated"),uncertainCreditSlide.classList.toggle("js-hidden--Animated")}),$(toCreditSlideFromNo).on("click",function(){$(window).scrollTop($("#noform").offset().top)}),toTypeSlide.addEventListener("click",function(){typeSlide.classList.toggle("js-hidden--Animated"),uncertainCreditSlide.classList.toggle("js-hidden--Animated")}),$(toTypeSlide).on("click",function(){$(window).scrollTop($("#noform").offset().top)}),toUncertainSendSlide.addEventListener("click",function(){uncertainSendSlide.classList.toggle("js-hidden--Animated"),uncertainCreditSlide.classList.toggle("js-hidden--Animated")}),$(toUncertainSendSlide).on("click",function(){$(window).scrollTop($("#noform").offset().top)}),toUncertainCreditSlide.addEventListener("click",function(){uncertainSendSlide.classList.toggle("js-hidden--Animated"),uncertainCreditSlide.classList.toggle("js-hidden--Animated")}),$(toUncertainCreditSlide).on("click",function(){$(window).scrollTop($("#noform").offset().top)}),$("#phone").inputmask(),$("#phoneUncertain").inputmask(),$(document).ready(function(){$("#sliderCredit").slider({range:"min",animate:!0,value:5e5,min:1e5,max:8e6,step:1e4,slide:function(e,t){t=numberWithCommas(t=t.value);$("#sliderCreditInput").val("Сумма кредита: "+t+" ₽")}}),$("#sliderInvest").slider({range:"min",animate:!0,value:0,min:0,max:64e5,step:1e4,slide:function(e,t){t=numberWithCommas(t=t.value);$("#sliderInvestInput").val("Первоначальный взнос: "+t+" ₽")}})});var creditInput=document.getElementById("sliderCreditInput"),valueCreditInput=creditInput.value;creditInput.addEventListener("focusin",function(){creditInput.value=""}),creditInput.addEventListener("focusout",function(){var e;creditInput.value?($("#sliderCredit").slider("option","value",creditInput.value),e=numberWithCommas(creditInput.value),creditInput.value="Сумма кредита: ".concat(e," ₽")):creditInput.value=valueCreditInput});var investInput=document.getElementById("sliderInvestInput"),valueInvestInput=investInput.value;investInput.addEventListener("focusin",function(){investInput.value=""}),investInput.addEventListener("focusout",function(){var e;investInput.value?($("#sliderInvest").slider("option","value",investInput.value),e=numberWithCommas(investInput.value),investInput.value="Первоначальный взнос: ".concat(e," ₽")):investInput.value=valueInvestInput});var pickerToggler=document.querySelector(".picker-display"),pickerOptions=document.querySelector(".picker-display__options");pickerToggler.addEventListener("click",function(){pickerOptions.classList.toggle("js-hidden--Animated")}),document.addEventListener("mouseup",function(e){pickerToggler.contains(e.target)||pickerOptions.classList.add("js-hidden--Animated")});var options=document.querySelectorAll(".option");function uncheckOptions(){options.forEach(function(e){e.classList.contains("checked")&&e.classList.remove("checked")})}function autoCheckOptions(t){uncheckOptions(),options.forEach(function(e){e.textContent.includes(t)&&e.classList.add("checked")})}options.forEach(function(e){e.addEventListener("click",function(){uncheckOptions(),e.classList.add("checked"),document.getElementById("pickerTime").textContent=e.textContent,document.getElementById("timePicker").value="Срок кредитования: ".concat(e.textContent)})});var timeInput=document.getElementById("timePicker"),valueTimeInput=timeInput.value;timeInput.addEventListener("focusin",function(){timeInput.value=""}),timeInput.addEventListener("focusout",function(){if(timeInput.value){$("#sliderInvest").slider("option","value",timeInput.value);var e=numberWithCommas(timeInput.value);switch(e){case"1":timeInput.value="Срок кредитования: ".concat(e," год"),document.getElementById("pickerTime").textContent="".concat(e," год"),autoCheckOptions(e);break;case"2":case"3":timeInput.value="Срок кредитования: ".concat(e," года"),document.getElementById("pickerTime").textContent="".concat(e," года"),autoCheckOptions(e);break;case"4":timeInput.value="Срок кредитования: ".concat(e," года"),document.getElementById("pickerTime").textContent=" ".concat(e," года"),autoCheckOptions(e);break;case"5":case"6":case"7":case"8":timeInput.value="Срок кредитования: ".concat(e," лет"),document.getElementById("pickerTime").textContent="".concat(e," лет"),autoCheckOptions(e)}}else timeInput.value=valueTimeInput});var radioLabels=document.querySelectorAll(".radio-label");radioLabels.forEach(function(t){t.addEventListener("click",function(){var e=(e=t.getAttribute("for")).replace("Type",""),e=document.getElementById(e);hideAllImages(),e.classList.toggle("js-hidden--Animated")})});var imagesToShow=document.querySelectorAll(".radio-image");function hideAllImages(){imagesToShow.forEach(function(e){e.classList.contains("js-hidden--Animated")||e.classList.add("js-hidden--Animated")})}$(document).ready(function(){$("#sliderCreditUncertain").slider({range:"min",animate:!0,value:5e5,min:1e5,max:8e6,step:1e4,slide:function(e,t){t=numberWithCommas(t=t.value);$("#sliderCreditInputUncertain").val("Желаемая cумма кредита: "+t+" ₽")}}),$("#sliderInvestUncertain").slider({range:"min",animate:!0,value:0,min:0,max:64e5,step:1e4,slide:function(e,t){t=numberWithCommas(t=t.value);$("#sliderInvestInputUncertain").val("Первоначальный взнос: "+t+" ₽")}})});var creditInputUncertain=document.getElementById("sliderCreditInputUncertain"),valueCreditInputUncertain=creditInput.value;creditInputUncertain.addEventListener("focusin",function(){creditInputUncertain.value=""}),creditInputUncertain.addEventListener("focusout",function(){var e;creditInputUncertain.value?($("#sliderCreditUncertain").slider("option","value",creditInputUncertain.value),e=numberWithCommas(creditInputUncertain.value),creditInputUncertain.value="Желаемая сумма кредита: ".concat(e," ₽")):creditInputUncertain.value=valueCreditInputUncertain});var investInputUncertain=document.getElementById("sliderInvestInputUncertain"),valueInvestInputUncertain=investInput.value;investInputUncertain.addEventListener("focusin",function(){investInputUncertain.value=""}),investInputUncertain.addEventListener("focusout",function(){var e;investInputUncertain.value?($("#sliderInvestUncertain").slider("option","value",investInputUncertain.value),e=numberWithCommas(investInputUncertain.value),investInputUncertain.value="Первоначальный взнос: ".concat(e," ₽")):investInputUncertain.value=valueInvestInputUncertain});var pickerTogglerUncertain=document.querySelector(".display--uncertain"),pickerOptionsUncertain=document.querySelector(".display__options--uncertain");pickerTogglerUncertain.addEventListener("click",function(){pickerOptionsUncertain.classList.toggle("js-hidden--Animated")}),document.addEventListener("mouseup",function(e){pickerTogglerUncertain.contains(e.target)||pickerOptionsUncertain.classList.add("js-hidden--Animated")});var optionsUncertain=document.querySelectorAll(".option--uncertain");optionsUncertain.forEach(function(e){e.addEventListener("click",function(){uncheckOptions(),e.classList.add("checked"),document.getElementById("pickerTimeUncertain").textContent=e.textContent,document.getElementById("timePickerUncertain").value="Срок кредитования: ".concat(e.textContent)})});var timeInputUncertain=document.getElementById("timePickerUncertain"),valueTimeInputUncertain=timeInput.value;timeInputUncertain.addEventListener("focusin",function(){timeInputUncertain.value=""}),timeInputUncertain.addEventListener("focusout",function(){if(timeInputUncertain.value){$("#sliderInvestUncertain").slider("option","value",timeInputUncertain.value);var e=numberWithCommas(timeInputUncertain.value);switch(e){case"1":timeInputUncertain.value="Срок кредитования: ".concat(e," год"),document.getElementById("pickerTimeUncertain").textContent="".concat(e," год"),autoCheckOptions(e);break;case"2":case"3":timeInputUncertain.value="Срок кредитования: ".concat(e," года"),document.getElementById("pickerTimeUncertain").textContent="".concat(e," года"),autoCheckOptions(e);break;case"4":timeInputUncertain.value="Срок кредитования: ".concat(e," года"),document.getElementById("pickerTimeUncertain").textContent=" ".concat(e," года"),autoCheckOptions(e);break;case"5":case"6":case"7":case"8":timeInputUncertain.value="Срок кредитования: ".concat(e," лет"),document.getElementById("pickerTimeUncertain").textContent="".concat(e," лет"),autoCheckOptions(e)}}else timeInputUncertain.value=valueTimeInputUncertain});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMuanMiXSwibmFtZXMiOlsiaW5pdENvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ5ZXNGb3JtIiwibm9Gb3JtIiwidG9ZZXNGb3JtIiwidG9Ob0Zvcm0iLCJjcmVkaXRTbGlkZSIsInNlbmRTbGlkZSIsInRvSW5pdFNsaWRlIiwidG9TZW5kU2xpZGUiLCJ0b0NyZWRpdFNsaWRlIiwidG9Jbml0U2xpZGVGcm9tTm8iLCJ0b0NyZWRpdFNsaWRlRnJvbU5vIiwidHlwZVNsaWRlIiwidW5jZXJ0YWluQ3JlZGl0U2xpZGUiLCJ0b1R5cGVTbGlkZSIsInRvVW5jZXJ0YWluU2VuZFNsaWRlIiwidW5jZXJ0YWluU2VuZFNsaWRlIiwidG9VbmNlcnRhaW5DcmVkaXRTbGlkZSIsIm51bWJlcldpdGhDb21tYXMiLCJ4IiwidG9TdHJpbmciLCJyZXBsYWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIiQiLCJvbiIsIndpbmRvdyIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImlucHV0bWFzayIsInJlYWR5Iiwic2xpZGVyIiwicmFuZ2UiLCJhbmltYXRlIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJzdGVwIiwic2xpZGUiLCJldmVudCIsInVpIiwiZGVidFZhbHVlIiwidmFsIiwiY3JlZGl0SW5wdXQiLCJ2YWx1ZUNyZWRpdElucHV0IiwidXBkYXRlZENyZWRpdElucHV0IiwiY29uY2F0IiwiaW52ZXN0SW5wdXQiLCJ2YWx1ZUludmVzdElucHV0IiwidXBkYXRlZEludmVzdElucHV0IiwicGlja2VyVG9nZ2xlciIsInF1ZXJ5U2VsZWN0b3IiLCJwaWNrZXJPcHRpb25zIiwiZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwiYWRkIiwib3B0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1bmNoZWNrT3B0aW9ucyIsImZvckVhY2giLCJvcHRpb24iLCJyZW1vdmUiLCJhdXRvQ2hlY2tPcHRpb25zIiwiYXR0YWNoZWRTdHJpbmciLCJ0ZXh0Q29udGVudCIsImluY2x1ZGVzIiwidGltZUlucHV0IiwidmFsdWVUaW1lSW5wdXQiLCJ1cGRhdGVkVGltZUlucHV0IiwicmFkaW9MYWJlbHMiLCJsYWJlbCIsImxhYmVsVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJpbWFnZVRvU2hvdyIsImhpZGVBbGxJbWFnZXMiLCJpbWFnZXNUb1Nob3ciLCJpbWFnZSIsImNyZWRpdElucHV0VW5jZXJ0YWluIiwidmFsdWVDcmVkaXRJbnB1dFVuY2VydGFpbiIsImludmVzdElucHV0VW5jZXJ0YWluIiwidmFsdWVJbnZlc3RJbnB1dFVuY2VydGFpbiIsInBpY2tlclRvZ2dsZXJVbmNlcnRhaW4iLCJwaWNrZXJPcHRpb25zVW5jZXJ0YWluIiwib3B0aW9uc1VuY2VydGFpbiIsInRpbWVJbnB1dFVuY2VydGFpbiIsInZhbHVlVGltZUlucHV0VW5jZXJ0YWluIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxjQUFBQyxTQUFBQyxlQUFBLGFBQ0FDLFFBQUFGLFNBQUFDLGVBQUEsV0FDQUUsT0FBQUgsU0FBQUMsZUFBQSxVQUNBRyxVQUFBSixTQUFBQyxlQUFBLGdCQUNBSSxTQUFBTCxTQUFBQyxlQUFBLGVBQ0FLLFlBQUFOLFNBQUFDLGVBQUEsZUFDQU0sVUFBQVAsU0FBQUMsZUFBQSxhQUNBTyxZQUFBUixTQUFBQyxlQUFBLGVBQ0FRLFlBQUFULFNBQUFDLGVBQUEsZUFDQVMsY0FBQVYsU0FBQUMsZUFBQSxpQkFDQVUsa0JBQUFYLFNBQUFDLGVBQUEscUJBQ0FXLG9CQUFBWixTQUFBQyxlQUFBLHVCQUNBWSxVQUFBYixTQUFBQyxlQUFBLGFBQ0FhLHFCQUFBZCxTQUFBQyxlQUFBLHdCQUNBYyxZQUFBZixTQUFBQyxlQUFBLGVBQ0FlLHFCQUFBaEIsU0FBQUMsZUFBQSx3QkFDQWdCLG1CQUFBakIsU0FBQUMsZUFBQSxzQkFDQWlCLHVCQUFBbEIsU0FBQUMsZUFBQSwwQkE2RUEsU0FBQWtCLGlCQUFBQyxHQUNBLE9BQUFBLEVBQUFDLFdBQUFD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RUFlLEVBQUFJLGlCQUlBLElBQUFvQixtQkFBQXhGLFNBQUFDLGVBQUEsdUJBQ0F3Rix3QkFBQW5CLFVBQUFqQyxNQUNBbUQsbUJBQUFqRSxpQkFBQSxVQUFBLFdBQ0FpRSxtQkFBQW5ELE1BQUEsS0FHQW1ELG1CQUFBakUsaUJBQUEsV0FBQSxXQUNBLEdBQUFpRSxtQkFBQW5ELE1BRUEsQ0FDQVgsRUFBQSwwQkFBQVEsT0FDQSxTQUNBLFFBQ0FzRCxtQkFBQW5ELE9BRUEsSUFBQW1DLEVBQUFyRCxpQkFBQXFFLG1CQUFBbkQsT0FDQSxPQUFBbUMsR0FDQSxJQUFBLElBQ0FnQixtQkFBQW5ELE1BQUEsc0JBQUFZLE9BQUF1QixFQUFBLFFBQ0F4RSxTQUFBQyxlQUNBLHVCQUNBbUUsWUFGQSxHQUFBbkIsT0FFQXVCLEVBRkEsUUFHQU4saUJBQUFNLEdBQ0EsTUFDQSxJQUFBLElBT0EsSUFBQSxJQUNBZ0IsbUJBQUFuRCxNQUFBLHNCQUFBWSxPQUFBdUIsRUFBQSxTQUNBeEUsU0FBQUMsZUFDQSx1QkFDQW1FLFlBRkEsR0FBQW5CLE9BRUF1QixFQUZBLFNBR0FOLGlCQUFBTSxHQUNBLE1BQ0EsSUFBQSxJQUNBZ0IsbUJBQUFuRCxNQUFBLHNCQUFBWSxPQUFBdUIsRUFBQSxTQUNBeEUsU0FBQUMsZUFDQSx1QkFDQW1FLFlBRkEsSUFBQW5CLE9BRUF1QixFQUZBLFNBR0FOLGlCQUFBTSxHQUNBLE1BQ0EsSUFBQSxJQU9BLElBQUEsSUFPQSxJQUFBLElBT0EsSUFBQSxJQUNBZ0IsbUJBQUFuRCxNQUFBLHNCQUFBWSxPQUFBdUIsRUFBQSxRQUNBeEUsU0FBQUMsZUFDQSx1QkFDQW1FLFlBRkEsR0FBQW5CLE9BRUF1QixFQUZBLFFBR0FOLGlCQUFBTSxTQS9EQWdCLG1CQUFBbkQsTUFBQW9EIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGb3JtIExvZ2ljXG5sZXQgaW5pdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5pdFNsaWRlXCIpO1xubGV0IHllc0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInllc0Zvcm1cIik7XG5sZXQgbm9Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub2Zvcm1cIik7XG5sZXQgdG9ZZXNGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ5ZXNGb3JtVHJhbnNcIik7XG5sZXQgdG9Ob0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vRm9ybVRyYW5zXCIpO1xubGV0IGNyZWRpdFNsaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVkaXRTbGlkZVwiKTtcbmxldCBzZW5kU2xpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbmRTbGlkZVwiKTtcbmxldCB0b0luaXRTbGlkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9Jbml0U2xpZGVcIik7XG5sZXQgdG9TZW5kU2xpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvU2VuZFNsaWRlXCIpO1xubGV0IHRvQ3JlZGl0U2xpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvQ3JlZGl0U2xpZGVcIik7XG5sZXQgdG9Jbml0U2xpZGVGcm9tTm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvSW5pdFNsaWRlRnJvbU5vXCIpO1xubGV0IHRvQ3JlZGl0U2xpZGVGcm9tTm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvQ3JlZGl0U2xpZGVGcm9tTm9cIik7XG5sZXQgdHlwZVNsaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eXBlU2xpZGVcIik7XG5sZXQgdW5jZXJ0YWluQ3JlZGl0U2xpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVuY2VydGFpbkNyZWRpdFNsaWRlXCIpO1xubGV0IHRvVHlwZVNsaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b1R5cGVTbGlkZVwiKTtcbmxldCB0b1VuY2VydGFpblNlbmRTbGlkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9VbmNlcnRhaW5TZW5kU2xpZGVcIik7XG5sZXQgdW5jZXJ0YWluU2VuZFNsaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1bmNlcnRhaW5TZW5kU2xpZGVcIik7XG5sZXQgdG9VbmNlcnRhaW5DcmVkaXRTbGlkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9VbmNlcnRhaW5DcmVkaXRTbGlkZVwiKTtcblxudG9ZZXNGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgeWVzRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbiAgICBpbml0Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG4kKHRvWWVzRm9ybSkub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKCQoXCIjeWVzRm9ybVwiKS5vZmZzZXQoKS50b3ApO1xufSk7XG50b05vRm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG5vRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbiAgICBpbml0Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG4kKHRvTm9Gb3JtKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICQod2luZG93KS5zY3JvbGxUb3AoJChcIiNub2Zvcm1cIikub2Zmc2V0KCkudG9wKTtcbn0pO1xudG9Jbml0U2xpZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICB5ZXNGb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIGluaXRDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG59KTtcbiQodG9Jbml0U2xpZGUpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKFwiI2luaXRTbGlkZVwiKS5vZmZzZXQoKS50b3ApO1xufSk7XG50b1NlbmRTbGlkZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHNlbmRTbGlkZS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbiAgICBjcmVkaXRTbGlkZS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbn0pO1xuJCh0b1NlbmRTbGlkZSkub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKCQoXCIjeWVzRm9ybVwiKS5vZmZzZXQoKS50b3ApO1xufSk7XG50b0NyZWRpdFNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgc2VuZFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIGNyZWRpdFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG4kKHRvQ3JlZGl0U2xpZGUpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKFwiI3llc0Zvcm1cIikub2Zmc2V0KCkudG9wKTtcbn0pO1xudG9Jbml0U2xpZGVGcm9tTm8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpbml0Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIG5vRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbn0pO1xuJCh0b0luaXRTbGlkZUZyb21Obykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKCQoXCIjaW5pdFNsaWRlXCIpLm9mZnNldCgpLnRvcCk7XG59KTtcbnRvQ3JlZGl0U2xpZGVGcm9tTm8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICB0eXBlU2xpZGUuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgdW5jZXJ0YWluQ3JlZGl0U2xpZGUuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG59KTtcbiQodG9DcmVkaXRTbGlkZUZyb21Obykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKCQoXCIjbm9mb3JtXCIpLm9mZnNldCgpLnRvcCk7XG59KTtcbnRvVHlwZVNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgdHlwZVNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIHVuY2VydGFpbkNyZWRpdFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG4kKHRvVHlwZVNsaWRlKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICQod2luZG93KS5zY3JvbGxUb3AoJChcIiNub2Zvcm1cIikub2Zmc2V0KCkudG9wKTtcbn0pO1xudG9VbmNlcnRhaW5TZW5kU2xpZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICB1bmNlcnRhaW5TZW5kU2xpZGUuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgdW5jZXJ0YWluQ3JlZGl0U2xpZGUuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG59KTtcbiQodG9VbmNlcnRhaW5TZW5kU2xpZGUpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKFwiI25vZm9ybVwiKS5vZmZzZXQoKS50b3ApO1xufSk7XG50b1VuY2VydGFpbkNyZWRpdFNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgdW5jZXJ0YWluU2VuZFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xuICAgIHVuY2VydGFpbkNyZWRpdFNsaWRlLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1oaWRkZW4tLUFuaW1hdGVkXCIpO1xufSk7XG4kKHRvVW5jZXJ0YWluQ3JlZGl0U2xpZGUpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKFwiI25vZm9ybVwiKS5vZmZzZXQoKS50b3ApO1xufSk7XG5cbiQoXCIjcGhvbmVcIikuaW5wdXRtYXNrKCk7XG4kKFwiI3Bob25lVW5jZXJ0YWluXCIpLmlucHV0bWFzaygpO1xuXG4vLyBTbGlkZSBMb2dpY1xuZnVuY3Rpb24gbnVtYmVyV2l0aENvbW1hcyh4KSB7XG4gICAgcmV0dXJuIHgudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIi5cIik7XG59XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKFwiI3NsaWRlckNyZWRpdFwiKS5zbGlkZXIoe1xuICAgICAgICByYW5nZTogXCJtaW5cIixcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDUwMDAwMCxcbiAgICAgICAgbWluOiAxMDAwMDAsXG4gICAgICAgIG1heDogODAwMDAwMCxcbiAgICAgICAgc3RlcDogMTAwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjc2xpZGVyQ3JlZGl0SW5wdXRcIikudmFsKFwi0KHRg9C80LzQsCDQutGA0LXQtNC40YLQsDogXCIgKyBkZWJ0VmFsdWUgKyBcIiDigr1cIik7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgJChcIiNzbGlkZXJJbnZlc3RcIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNjQwMDAwMCxcbiAgICAgICAgc3RlcDogMTAwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjc2xpZGVySW52ZXN0SW5wdXRcIikudmFsKFwi0J/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQuSDQstC30L3QvtGBOiBcIiArIGRlYnRWYWx1ZSArIFwiIOKCvVwiKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuXG5sZXQgY3JlZGl0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlckNyZWRpdElucHV0XCIpO1xubGV0IHZhbHVlQ3JlZGl0SW5wdXQgPSBjcmVkaXRJbnB1dC52YWx1ZTtcbmNyZWRpdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsICgpID0+IHtcbiAgICBjcmVkaXRJbnB1dC52YWx1ZSA9IFwiXCI7XG59KTtcblxuY3JlZGl0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsICgpID0+IHtcbiAgICBpZiAoIWNyZWRpdElucHV0LnZhbHVlKSB7XG4gICAgICAgIGNyZWRpdElucHV0LnZhbHVlID0gdmFsdWVDcmVkaXRJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI3NsaWRlckNyZWRpdFwiKS5zbGlkZXIoXCJvcHRpb25cIiwgXCJ2YWx1ZVwiLCBjcmVkaXRJbnB1dC52YWx1ZSk7XG4gICAgICAgIGxldCB1cGRhdGVkQ3JlZGl0SW5wdXQgPSBudW1iZXJXaXRoQ29tbWFzKGNyZWRpdElucHV0LnZhbHVlKTtcbiAgICAgICAgY3JlZGl0SW5wdXQudmFsdWUgPSBg0KHRg9C80LzQsCDQutGA0LXQtNC40YLQsDogJHt1cGRhdGVkQ3JlZGl0SW5wdXR9IOKCvWA7XG4gICAgfVxufSk7XG5sZXQgaW52ZXN0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlckludmVzdElucHV0XCIpO1xubGV0IHZhbHVlSW52ZXN0SW5wdXQgPSBpbnZlc3RJbnB1dC52YWx1ZTtcbmludmVzdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsICgpID0+IHtcbiAgICBpbnZlc3RJbnB1dC52YWx1ZSA9IFwiXCI7XG59KTtcblxuaW52ZXN0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsICgpID0+IHtcbiAgICBpZiAoIWludmVzdElucHV0LnZhbHVlKSB7XG4gICAgICAgIGludmVzdElucHV0LnZhbHVlID0gdmFsdWVJbnZlc3RJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI3NsaWRlckludmVzdFwiKS5zbGlkZXIoXCJvcHRpb25cIiwgXCJ2YWx1ZVwiLCBpbnZlc3RJbnB1dC52YWx1ZSk7XG4gICAgICAgIGxldCB1cGRhdGVkSW52ZXN0SW5wdXQgPSBudW1iZXJXaXRoQ29tbWFzKGludmVzdElucHV0LnZhbHVlKTtcbiAgICAgICAgaW52ZXN0SW5wdXQudmFsdWUgPSBg0J/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQuSDQstC30L3QvtGBOiAke3VwZGF0ZWRJbnZlc3RJbnB1dH0g4oK9YDtcbiAgICB9XG59KTtcblxubGV0IHBpY2tlclRvZ2dsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBpY2tlci1kaXNwbGF5XCIpO1xubGV0IHBpY2tlck9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBpY2tlci1kaXNwbGF5X19vcHRpb25zXCIpO1xucGlja2VyVG9nZ2xlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHBpY2tlck9wdGlvbnMuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG59KTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIXBpY2tlclRvZ2dsZXIuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIHBpY2tlck9wdGlvbnMuY2xhc3NMaXN0LmFkZChcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgfVxufSk7XG5cbmxldCBvcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vcHRpb25cIik7XG5vcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB1bmNoZWNrT3B0aW9ucygpO1xuICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZChcImNoZWNrZWRcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGlja2VyVGltZVwiKS50ZXh0Q29udGVudCA9IG9wdGlvbi50ZXh0Q29udGVudDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICBcInRpbWVQaWNrZXJcIlxuICAgICAgICApLnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHtvcHRpb24udGV4dENvbnRlbnR9YDtcbiAgICB9KTtcbn0pO1xuXG5mdW5jdGlvbiB1bmNoZWNrT3B0aW9ucygpIHtcbiAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcImNoZWNrZWRcIikpIHtcbiAgICAgICAgICAgIG9wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhdXRvQ2hlY2tPcHRpb25zKGF0dGFjaGVkU3RyaW5nKSB7XG4gICAgdW5jaGVja09wdGlvbnMoKTtcbiAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLnRleHRDb250ZW50LmluY2x1ZGVzKGF0dGFjaGVkU3RyaW5nKSkge1xuICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmxldCB0aW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVQaWNrZXJcIik7XG5sZXQgdmFsdWVUaW1lSW5wdXQgPSB0aW1lSW5wdXQudmFsdWU7XG50aW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKCkgPT4ge1xuICAgIHRpbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG59KTtcblxudGltZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCAoKSA9PiB7XG4gICAgaWYgKCF0aW1lSW5wdXQudmFsdWUpIHtcbiAgICAgICAgdGltZUlucHV0LnZhbHVlID0gdmFsdWVUaW1lSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNzbGlkZXJJbnZlc3RcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwidmFsdWVcIiwgdGltZUlucHV0LnZhbHVlKTtcbiAgICAgICAgbGV0IHVwZGF0ZWRUaW1lSW5wdXQgPSBudW1iZXJXaXRoQ29tbWFzKHRpbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgIHN3aXRjaCAodXBkYXRlZFRpbWVJbnB1dCkge1xuICAgICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXQudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtGA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtGA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0LnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQs9C+0LTQsGA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtNCwYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXQudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtNCwYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVcIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgICR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXQudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INC70LXRgmA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INC70LXRgmA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0LnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVcIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmxldCByYWRpb0xhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmFkaW8tbGFiZWxcIik7XG5yYWRpb0xhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xuICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGxldCBsYWJlbFZhbHVlID0gbGFiZWwuZ2V0QXR0cmlidXRlKFwiZm9yXCIpO1xuICAgICAgICBsYWJlbFZhbHVlID0gbGFiZWxWYWx1ZS5yZXBsYWNlKFwiVHlwZVwiLCBcIlwiKTtcbiAgICAgICAgbGV0IGltYWdlVG9TaG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGFiZWxWYWx1ZSk7XG4gICAgICAgIGhpZGVBbGxJbWFnZXMoKTtcbiAgICAgICAgaW1hZ2VUb1Nob3cuY2xhc3NMaXN0LnRvZ2dsZShcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgfSk7XG59KTtcblxubGV0IGltYWdlc1RvU2hvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmFkaW8taW1hZ2VcIik7XG5cbmZ1bmN0aW9uIGhpZGVBbGxJbWFnZXMoKSB7XG4gICAgaW1hZ2VzVG9TaG93LmZvckVhY2goKGltYWdlKSA9PiB7XG4gICAgICAgIGlmICghaW1hZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKSkge1xuICAgICAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcImpzLWhpZGRlbi0tQW5pbWF0ZWRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgJChcIiNzbGlkZXJDcmVkaXRVbmNlcnRhaW5cIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiA1MDAwMDAsXG4gICAgICAgIG1pbjogMTAwMDAwLFxuICAgICAgICBtYXg6IDgwMDAwMDAsXG4gICAgICAgIHN0ZXA6IDEwMDAwLFxuICAgICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBsZXQgZGVidFZhbHVlID0gdWkudmFsdWU7XG4gICAgICAgICAgICBkZWJ0VmFsdWUgPSBudW1iZXJXaXRoQ29tbWFzKGRlYnRWYWx1ZSk7XG4gICAgICAgICAgICAkKFwiI3NsaWRlckNyZWRpdElucHV0VW5jZXJ0YWluXCIpLnZhbChcbiAgICAgICAgICAgICAgICBcItCW0LXQu9Cw0LXQvNCw0Y8gY9GD0LzQvNCwINC60YDQtdC00LjRgtCwOiBcIiArIGRlYnRWYWx1ZSArIFwiIOKCvVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgICQoXCIjc2xpZGVySW52ZXN0VW5jZXJ0YWluXCIpLnNsaWRlcih7XG4gICAgICAgIHJhbmdlOiBcIm1pblwiLFxuICAgICAgICBhbmltYXRlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDY0MDAwMDAsXG4gICAgICAgIHN0ZXA6IDEwMDAwLFxuICAgICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBsZXQgZGVidFZhbHVlID0gdWkudmFsdWU7XG4gICAgICAgICAgICBkZWJ0VmFsdWUgPSBudW1iZXJXaXRoQ29tbWFzKGRlYnRWYWx1ZSk7XG4gICAgICAgICAgICAkKFwiI3NsaWRlckludmVzdElucHV0VW5jZXJ0YWluXCIpLnZhbChcbiAgICAgICAgICAgICAgICBcItCf0LXRgNCy0L7QvdCw0YfQsNC70YzQvdGL0Lkg0LLQt9C90L7RgTogXCIgKyBkZWJ0VmFsdWUgKyBcIiDigr1cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuXG5sZXQgY3JlZGl0SW5wdXRVbmNlcnRhaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcInNsaWRlckNyZWRpdElucHV0VW5jZXJ0YWluXCJcbik7XG5sZXQgdmFsdWVDcmVkaXRJbnB1dFVuY2VydGFpbiA9IGNyZWRpdElucHV0LnZhbHVlO1xuY3JlZGl0SW5wdXRVbmNlcnRhaW4uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKCkgPT4ge1xuICAgIGNyZWRpdElucHV0VW5jZXJ0YWluLnZhbHVlID0gXCJcIjtcbn0pO1xuXG5jcmVkaXRJbnB1dFVuY2VydGFpbi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xuICAgIGlmICghY3JlZGl0SW5wdXRVbmNlcnRhaW4udmFsdWUpIHtcbiAgICAgICAgY3JlZGl0SW5wdXRVbmNlcnRhaW4udmFsdWUgPSB2YWx1ZUNyZWRpdElucHV0VW5jZXJ0YWluO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjc2xpZGVyQ3JlZGl0VW5jZXJ0YWluXCIpLnNsaWRlcihcbiAgICAgICAgICAgIFwib3B0aW9uXCIsXG4gICAgICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgICAgICBjcmVkaXRJbnB1dFVuY2VydGFpbi52YWx1ZVxuICAgICAgICApO1xuICAgICAgICBsZXQgdXBkYXRlZENyZWRpdElucHV0ID0gbnVtYmVyV2l0aENvbW1hcyhjcmVkaXRJbnB1dFVuY2VydGFpbi52YWx1ZSk7XG4gICAgICAgIGNyZWRpdElucHV0VW5jZXJ0YWluLnZhbHVlID0gYNCW0LXQu9Cw0LXQvNCw0Y8g0YHRg9C80LzQsCDQutGA0LXQtNC40YLQsDogJHt1cGRhdGVkQ3JlZGl0SW5wdXR9IOKCvWA7XG4gICAgfVxufSk7XG5sZXQgaW52ZXN0SW5wdXRVbmNlcnRhaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcInNsaWRlckludmVzdElucHV0VW5jZXJ0YWluXCJcbik7XG5sZXQgdmFsdWVJbnZlc3RJbnB1dFVuY2VydGFpbiA9IGludmVzdElucHV0LnZhbHVlO1xuaW52ZXN0SW5wdXRVbmNlcnRhaW4uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKCkgPT4ge1xuICAgIGludmVzdElucHV0VW5jZXJ0YWluLnZhbHVlID0gXCJcIjtcbn0pO1xuXG5pbnZlc3RJbnB1dFVuY2VydGFpbi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xuICAgIGlmICghaW52ZXN0SW5wdXRVbmNlcnRhaW4udmFsdWUpIHtcbiAgICAgICAgaW52ZXN0SW5wdXRVbmNlcnRhaW4udmFsdWUgPSB2YWx1ZUludmVzdElucHV0VW5jZXJ0YWluO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjc2xpZGVySW52ZXN0VW5jZXJ0YWluXCIpLnNsaWRlcihcbiAgICAgICAgICAgIFwib3B0aW9uXCIsXG4gICAgICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgICAgICBpbnZlc3RJbnB1dFVuY2VydGFpbi52YWx1ZVxuICAgICAgICApO1xuICAgICAgICBsZXQgdXBkYXRlZEludmVzdElucHV0ID0gbnVtYmVyV2l0aENvbW1hcyhpbnZlc3RJbnB1dFVuY2VydGFpbi52YWx1ZSk7XG4gICAgICAgIGludmVzdElucHV0VW5jZXJ0YWluLnZhbHVlID0gYNCf0LXRgNCy0L7QvdCw0YfQsNC70YzQvdGL0Lkg0LLQt9C90L7RgTogJHt1cGRhdGVkSW52ZXN0SW5wdXR9IOKCvWA7XG4gICAgfVxufSk7XG5cbmxldCBwaWNrZXJUb2dnbGVyVW5jZXJ0YWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kaXNwbGF5LS11bmNlcnRhaW5cIik7XG5sZXQgcGlja2VyT3B0aW9uc1VuY2VydGFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgXCIuZGlzcGxheV9fb3B0aW9ucy0tdW5jZXJ0YWluXCJcbik7XG5waWNrZXJUb2dnbGVyVW5jZXJ0YWluLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcGlja2VyT3B0aW9uc1VuY2VydGFpbi5jbGFzc0xpc3QudG9nZ2xlKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbn0pO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZnVuY3Rpb24oZSkge1xuICAgIGlmICghcGlja2VyVG9nZ2xlclVuY2VydGFpbi5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgcGlja2VyT3B0aW9uc1VuY2VydGFpbi5jbGFzc0xpc3QuYWRkKFwianMtaGlkZGVuLS1BbmltYXRlZFwiKTtcbiAgICB9XG59KTtcblxubGV0IG9wdGlvbnNVbmNlcnRhaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm9wdGlvbi0tdW5jZXJ0YWluXCIpO1xub3B0aW9uc1VuY2VydGFpbi5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdW5jaGVja09wdGlvbnMoKTtcbiAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpY2tlclRpbWVVbmNlcnRhaW5cIikudGV4dENvbnRlbnQgPVxuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgIFwidGltZVBpY2tlclVuY2VydGFpblwiXG4gICAgICAgICkudmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke29wdGlvbi50ZXh0Q29udGVudH1gO1xuICAgIH0pO1xufSk7XG5cbmxldCB0aW1lSW5wdXRVbmNlcnRhaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVQaWNrZXJVbmNlcnRhaW5cIik7XG5sZXQgdmFsdWVUaW1lSW5wdXRVbmNlcnRhaW4gPSB0aW1lSW5wdXQudmFsdWU7XG50aW1lSW5wdXRVbmNlcnRhaW4uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKCkgPT4ge1xuICAgIHRpbWVJbnB1dFVuY2VydGFpbi52YWx1ZSA9IFwiXCI7XG59KTtcblxudGltZUlucHV0VW5jZXJ0YWluLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCAoKSA9PiB7XG4gICAgaWYgKCF0aW1lSW5wdXRVbmNlcnRhaW4udmFsdWUpIHtcbiAgICAgICAgdGltZUlucHV0VW5jZXJ0YWluLnZhbHVlID0gdmFsdWVUaW1lSW5wdXRVbmNlcnRhaW47XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNzbGlkZXJJbnZlc3RVbmNlcnRhaW5cIikuc2xpZGVyKFxuICAgICAgICAgICAgXCJvcHRpb25cIixcbiAgICAgICAgICAgIFwidmFsdWVcIixcbiAgICAgICAgICAgIHRpbWVJbnB1dFVuY2VydGFpbi52YWx1ZVxuICAgICAgICApO1xuICAgICAgICBsZXQgdXBkYXRlZFRpbWVJbnB1dCA9IG51bWJlcldpdGhDb21tYXModGltZUlucHV0VW5jZXJ0YWluLnZhbHVlKTtcbiAgICAgICAgc3dpdGNoICh1cGRhdGVkVGltZUlucHV0KSB7XG4gICAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dFVuY2VydGFpbi52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC0YDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lVW5jZXJ0YWluXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC0YDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXRVbmNlcnRhaW4udmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INCz0L7QtNCwYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lVW5jZXJ0YWluXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dFVuY2VydGFpbi52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVVbmNlcnRhaW5cIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgJHt1cGRhdGVkVGltZUlucHV0fSDQs9C+0LTQsGA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0VW5jZXJ0YWluLnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQs9C+0LTQsGA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVVuY2VydGFpblwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAgJHt1cGRhdGVkVGltZUlucHV0fSDQs9C+0LTQsGA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0VW5jZXJ0YWluLnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVVbmNlcnRhaW5cIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dFVuY2VydGFpbi52YWx1ZSA9IGDQodGA0L7QuiDQutGA0LXQtNC40YLQvtCy0LDQvdC40Y86ICR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICAgICAgXCJwaWNrZXJUaW1lVW5jZXJ0YWluXCJcbiAgICAgICAgICAgICAgICApLnRleHRDb250ZW50ID0gYCR7dXBkYXRlZFRpbWVJbnB1dH0g0LvQtdGCYDtcbiAgICAgICAgICAgICAgICBhdXRvQ2hlY2tPcHRpb25zKHVwZGF0ZWRUaW1lSW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICAgICAgICB0aW1lSW5wdXRVbmNlcnRhaW4udmFsdWUgPSBg0KHRgNC+0Log0LrRgNC10LTQuNGC0L7QstCw0L3QuNGPOiAke3VwZGF0ZWRUaW1lSW5wdXR9INC70LXRgmA7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgICAgIFwicGlja2VyVGltZVVuY2VydGFpblwiXG4gICAgICAgICAgICAgICAgKS50ZXh0Q29udGVudCA9IGAke3VwZGF0ZWRUaW1lSW5wdXR9INC70LXRgmA7XG4gICAgICAgICAgICAgICAgYXV0b0NoZWNrT3B0aW9ucyh1cGRhdGVkVGltZUlucHV0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgICAgICAgICAgdGltZUlucHV0VW5jZXJ0YWluLnZhbHVlID0gYNCh0YDQvtC6INC60YDQtdC00LjRgtC+0LLQsNC90LjRjzogJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgICAgICBcInBpY2tlclRpbWVVbmNlcnRhaW5cIlxuICAgICAgICAgICAgICAgICkudGV4dENvbnRlbnQgPSBgJHt1cGRhdGVkVGltZUlucHV0fSDQu9C10YJgO1xuICAgICAgICAgICAgICAgIGF1dG9DaGVja09wdGlvbnModXBkYXRlZFRpbWVJbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59KTsiXX0=
